import yamlfrom api.config.config import Configimport ruamel_yamlfrom api.common.business import Tokenclass RedYaml:     def __init__(self, file):        self.__file = Config().testCaseYamlFile        print(self.__file)        # self.open()                          def read(self):        """        读取yaml        :return:        """        with open(self.__file,encoding='utf-8') as f:            return yaml.safe_load(f)    def get_key_value(self,key_value=None):        """        读取yaml        :return:        """        #yaml.load(f, Loader=yaml.FullLoader)        with open(self.__file,encoding='utf-8') as f:            load_yaml = yaml.load(f, Loader=yaml.FullLoader)#yaml.safe_load(f)            #data = load_yaml[key_value]['data']            #len_data =len(data)            #print(len_data)            #print(len_data)             #for i in range(len_data):                #ses = load_yaml.get(key_value)['data'][i]['headers'][0]                #print(ses,type(ses))                #print(ses,type(ses))                    #test =22                #session_id = Token().Sessionid()                #ses.update({'c2-sso-sessionid':session_id})                #print(ses,type(ses))                #print(ses,type(ses))                       return load_yaml.get(key_value)        def yaml_data_with_file(filename):        with open(filename,encoding='utf-8') as f:            return yaml.safe_load(f)                    # 读取yaml数据中的key值，这里的yaml文件名是data    def yaml_data_with_key(filename):        with open(filename,encoding='utf-8') as f:         test_data = yaml.load(f.read(),Loader = yaml.FullLoader)  #加载数据         test_task_template = test_data['test_task_template']['data'] #指定数据        return test_task_template        def get_yaml_data_ruamel(self):                file = open(self.__file, 'r', encoding='utf-8')        data = ruamel_yaml.load(file.read(), Loader=ruamel_yaml.Loader)        print(data)        file.close()             def write_yaml_key(self,sessionid_key):        with open(self.__file, encoding="utf-8") as f:          content = ruamel_yaml.load(f, Loader=ruamel_yaml.RoundTripLoader)          # 修改yml文件中的参数                    content['sessionid_key']= '&sessionid_key:{}'.format(sessionid_key)        with open(self.__file, 'w', encoding="utf-8") as nf:           ruamel_yaml.dump(content, nf, Dumper=ruamel_yaml.RoundTripDumper)    def setDictYaml(self):        ss ='&sessionid_key'        test={ 'get_param': ss }        with open(self.__file, encoding="utf-8") as fp:            data = yaml.load(fp)            print(data)            print(data)            data['common_info'].update({'sessionid_key':test})                    with open(self.__file, 'w', encoding="utf-8") as f:            ruamel_yaml.round_trip_dump(data, f, default_flow_style=False,default_style=False)    if __name__ == '__main__':    a =Config().testCaseYamlFile    #print(a)    b =RedYaml(a)    c =b.get_key_value('service_manage_save')    #c =b.read()    print(c)    #d =b.yaml_data_with_file2()    #print(d)    #f = open(a,encoding='utf-8')    #res = yaml.load(f)    #print(type(res),res)            